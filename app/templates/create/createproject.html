{% extends 'base.html' %}

{% block title %}
  Créer un projet
{% endblock %}

{% block content %}
  <div class="row">
    <div id="squaregray">
      <div id="squarewhite"></div>
    </div>
    <div style="margin-right: 20px;">
      <p><h2 class="a">Créer un projet</h2>
      <div id="rectangleC" style="padding-top: 20px;">
        <input type="text" placeholder="Nom du projet" maxlength="25" class="box-black">
        <div class="lineblk"></div>
        <h5>Description du projet</h5>
        <input type="text" placeholder="Thème, style" class="box-black">
        <div class="lineblk"></div>
          <div class="row">
            <h5 style="width: 200px;">Nombre de participants :</h5>
            <div>
              <input type="number" min=1 max=5 class="box-black-big" style="margin-top: 20px; margin-right: auto;">
            </div>
          </div>
        <div class="lineblk"></div>
        <h5 style="width: 190px;">Délai pour envoyer le projet :</h5>
        <input type="date" class="box-black">
        <div class="lineblk"></div>
        <h5>Format :</h5>

        <select id="aspectRatio">
          <option value="" disabled selected>Libre, 1:1, 2:3, ...</option>
          <option value="libre">libre</option>
          <option value="1:1">1:1</option>
          <option value="2:3">2:3</option>
          <option value="3:4">3:4</option>
          <option value="4:5">4:5</option>
          <option value="9:16">9:16</option>
        </select>
        <div id="dynamicContent"></div>
        

<div id="dynamicContent"></div>


        <div class="lineblk"></div>
        <div class="row">     
          <div class="column">
            <h5>couleur de l'arrière-plan :</h5>
            <input type="text" class="box-black"> 
          </div>
          <div id="square"></div>
        </div> 
        <button onclick="location.href='{{ url_for('create.send')}}'" class="center button">
          Confirmer
        </button>
      </div>
    </div>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const aspectRatioSelect = document.getElementById('aspectRatio');
    const dynamicContent = document.getElementById('dynamicContent');

    function updateContent() {
      const selectedValue = aspectRatioSelect.value;

      if (selectedValue === "libre") {
        // Dynamically render the "libre" content
        dynamicContent.innerHTML = `
          <div class="row around">
              <div class="row" style="height: 35px; margin-bottom: 10px;">
                <h5 style="margin: auto;">x : </h5>
                <input type="number" min=1 max=3000 class="box-black" style="width: 150px; margin-top: 5px; margin-left: 10px;">
              </div>
              <div class="row" style="height: 35px;">
                <h5 style="margin: auto;">y :</h5>
                <input type="number" min=1 max=3000 class="box-black" style="width: 150px; margin-top: 5px; margin-left: 10px;">
              </div>
            </div>
        `;
      } else {
        dynamicContent.innerHTML = "";
      }
    } 
    updateContent();

    aspectRatioSelect.addEventListener('change', updateContent);
  });
</script>
{% endblock %}